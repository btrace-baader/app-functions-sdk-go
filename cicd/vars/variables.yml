variables:
  - name : sonarcloudKeyAppServiceGo
    value : baader-digitalization-app-functions-sdk-go
  - name: SERVICE_CONNECTION
    value: 'bOne-platform-azure-container-registry'

  # tag section for docker
  - name : exactVersionTag
    value: '$(Build.BuildNumber)'
  - name : majorMinorTag
    value: '$(majorMinorVersion)$(extension)'
  - name : latestTag
    value: 'latest$(extension)'

  - name : osimage
    value: 'ubuntu-latest'
  - name : extension
    ${{ if eq(variables['Build.SourceBranchName'], 'main') }}:
      value: ''
    ${{ if eq(variables['Build.SourceBranchName'], 'develop') }}:
      value: '-develop'
    ${{ else }}:
      value: '-wip'
  - name: majorMinorVersion
    value: 0.1
  - name: patchVersion
    value: $[counter(variables['majorMinorVersion'], 0)]

  - name: isMain
    value: $[eq(variables['Build.SourceBranch'], 'refs/heads/main')]
  - name: isDev
    value: $[eq(variables['Build.SourceBranch'], 'refs/heads/develop')]

  - name: DOCKER_REPOSITORY_NAME
    value: 'baader/app-service-mqtt-go'
  - name: SERVICE_CONNECTION
    value: 'bOne-platform-azure-container-registry'